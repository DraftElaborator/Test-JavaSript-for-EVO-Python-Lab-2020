<!DOCTYPE HTML">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Hellos, Names</title>
</head>
<body>

    <h1 style = "text-align: center">This page is created to ask your name and say "Hello!"</h1>
    <div style = "text-align: center">
        <form id="mainForm" onsubmit="return false;">
            Name: <input type="text" name="name1" id="name1" />
            <br />
            Repeat: <input type="text" name="name2" id="name2" />
            <br />
            <input type="submit" name="Submit name" id="nameSubmit" onclick="functionOnSubmit()"; return false;/>
            <br />
        </form>
    </div>

    <div style = "text-align: center">
        <button onclick="showHistory()">Show history names</button>
    </div>

    <div style = "text-align: center">
        <div style = "text-align: center" id="printHistory">

        </div>
    </div>

    <script>
       
        window.names = new Array();
        alert("The number of names is " + names.length);
        names[0] = "John";
        names[1] = "Jack";
        alert("Admins are John and Jack, their names are added to history list");
        alert("The number of names is " + names.length);
        //var nameSubmit = document.getElementById("nameSumbit");
        //nameSubmit.addEventListener("click", functionOnSubmit(), false);

        function validate() {
            var n1 = document.getElementById("name1");
            var n2 = document.getElementById("name2");
            if (n1.value != "" && n2.value != "") {
                if (n1.value == n2.value) {
                    alert("Name is correct");
                    return true;
                }
            }
            alert("The names should be equal and not blank");
            return false;
        }
        function getName() {
            var nameField = document.getElementById("name1");
            var name = nameField.value;
            return (name);
        }
        function sayHello(name) {
            alert("Hello " + name + "!");
        }
        function iSeeYouAgain(name) {
            alert("I'm glad to see you again, " + name +"!");
        }
        function checkFunction(name) {
            var matches = 0;
            for (i = 0; i < names.length; i++) {
                if (name == names[i]) {
                    matches++;
                }
            }
            if (matches == 0) {
                return false;
            }
            return true;
        }


        function functionOnSubmit() {
            if (validate()) {
                var name = getName();
                if (checkFunction(name))
                {
                    iSeeYouAgain(name);
                }
                else {
                    sayHello(name);
                    names[names.length] = name;
                }
            }
        }

        function showHistory()
        {
            var p = document.createElement("p");
            var node = document.createTextNode("Here is a history of names:\n")
            p.appendChild(node);
            var div = document.getElementById("printHistory");
            div.appendChild(p);
            for (i = 0; i < names.length; i++)
            {
                p = document.createElement("p");
                node = document.createTextNode(names[i] + "\n");
                p.appendChild(node);
                div = document.getElementById("printHistory");
                div.appendChild(p);
            }
        }

    </script>

</body>
</html>